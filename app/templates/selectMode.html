{% extends 'base.html'%}

{% block content %}
<div class="row">
    <!-- main -->
    <div class="col-4">
        <h2>プレイモード</h2>
        <form action="/playMode" method="POST" enctype="multipart/form-data" class="form-inline">
            <label class="sr-only" for="inlineFormInputName2">YoutubeのURL</label>
            <input type="text" class="form-control mb-2 mr-sm-2" id="inlineFormInputName2" name="name"
                placeholder="https://www.youtube.com/watch?v=○○○○○○">
            <button type="submit" class="btn btn-primary mb-2">検索</button>
        </form>
        <form action="/createMode" method="POST" enctype="multipart/form-data" class="form-inline">
            <label class="sr-only" for="inlineFormInputName2">title名</label>
            <input type="text" class="form-control mb-2 mr-sm-2" id="inlineFormInputName2" name="name"
                placeholder="https://www.youtube.com/watch?v=○○○○○○">
            <button type="submit" class="btn btn-primary mb-2">検索</button>
        </form>
    </div>
    <!-- endmain -->
    <!-- sub -->
    <div class="col-4">
        <h2>クリエイトモード</h2>
        <form action="/createMode" method="POST" enctype="multipart/form-data" class="form-inline">
            <label class="sr-only" for="inlineFormInputName2">YoutubeのURL</label>
            <input type="text" class="form-control mb-2 mr-sm-2" id="inlineFormInputName2" name="name"
                placeholder="https://www.youtube.com/watch?v=○○○○○○">
            <button type="submit" class="btn btn-primary mb-2">検索</button>
        </form>
    </div>
    <!-- endsub -->
    <!-- inform -->
    <div class="col-4">
        <h2>{{ inform }}</h2>
        <button type="submit" onclick="getData();" class="btn btn-primary mb-2">get!</button>

        <div id="test"></div>
    </div>
    <!-- endinform -->
</div>
{% endblock content %}

{% block addJS %}
<!-- 一時凍結↓　自分が入力したデータの取り出し -->
<!-- <script src="/static/JS/selectMode.js"></script> -->
<script>
    function getData() {
        //取得するデータ範囲の設定
        firebase.database().ref('/users/').once('value').then(function (snapshot) {
            var allData = snapshot.val();
            //繰り返してタイトルを取得。多分推奨のやり方ではない
            for (oneUserId in allData) {
                var oneUser = allData[oneUserId];
                for (oneDocKey in oneUser) {
                    console.log("docKey:" + oneDocKey);
                    console.log("forTitle:" + allData[oneUserId][oneDocKey].title);
                    console.log("forcountTime:" + allData[oneUserId][oneDocKey].countTimes);
                };
            };
        });
    };
</script>
{% endblock addJS %}